# 测试 1
服务端设置：
服务端响应请求后就立即关闭连接
max accept socket number is 1000

## ab.exe -n100 -c100 http://127.0.0.1/
Requests per second:    349.36 [#/sec] (mean)
Time per request:       286.238 [ms] (mean)
Time per request:       2.862 [ms] (mean, across all concurrent requests)
Transfer rate:          709.64 [Kbytes/sec] received

## ab.exe -n500 -c500 http://127.0.0.1/
Requests per second:    285.55 [#/sec] (mean)
Time per request:       1751.033 [ms] (mean)
Time per request:       3.502 [ms] (mean, across all concurrent requests)
Transfer rate:          580.01 [Kbytes/sec] received

## ab.exe -n1000 -c1000 http://127.0.0.1/
Requests per second:    254.79 [#/sec] (mean)
Time per request:       3924.875 [ms] (mean)
Time per request:       3.925 [ms] (mean, across all concurrent requests)
Transfer rate:          517.53 [Kbytes/sec] received

## ab.exe -n2000 -c2000 http://127.0.0.1/
Requests per second:    182.16 [#/sec] (mean)
Time per request:       10979.143 [ms] (mean)
Time per request:       5.490 [ms] (mean, across all concurrent requests)
Transfer rate:          370.02 [Kbytes/sec] received

## 疑问
Q: 随着并发量增大，RQS 为什么越来越小？
A: 应该在同一并发量下比较 RQS

# 测试 2
服务端设置：
服务端响应请求后就立即关闭连接
max accept socket number is 1000
## ab.exe -n100 -c100 http://127.0.0.1/
Requests per second:    360.71 [#/sec] (mean)
Time per request:       277.232 [ms] (mean)
Time per request:       2.772 [ms] (mean, across all concurrent requests)
Transfer rate:          732.69 [Kbytes/sec] received

## ab.exe -n1000 -c100 http://127.0.0.1/
Requests per second:    327.76 [#/sec] (mean)
Time per request:       305.103 [ms] (mean)
Time per request:       3.051 [ms] (mean, across all concurrent requests)
Transfer rate:          665.76 [Kbytes/sec] received

## ab.exe -n2000 -c100 http://127.0.0.1/
Requests per second:    326.64 [#/sec] (mean)
Time per request:       306.152 [ms] (mean)
Time per request:       3.062 [ms] (mean, across all concurrent requests)
Transfer rate:          663.48 [Kbytes/sec] received

## ab.exe -n1000 -c1000 http://127.0.0.1/
Requests per second:    254.79 [#/sec] (mean)
Time per request:       3924.875 [ms] (mean)
Time per request:       3.925 [ms] (mean, across all concurrent requests)
Transfer rate:          517.53 [Kbytes/sec] received

## ab.exe -n2000 -c1000 http://127.0.0.1/
Requests per second:    208.82 [#/sec] (mean)
Time per request:       4788.894 [ms] (mean)
Time per request:       4.789 [ms] (mean, across all concurrent requests)
Transfer rate:          424.16 [Kbytes/sec] received

## ab.exe -n3000 -c1000 http://127.0.0.1/
Requests per second:    193.48 [#/sec] (mean)
Time per request:       5168.381 [ms] (mean)
Time per request:       5.168 [ms] (mean, across all concurrent requests)
Transfer rate:          393.01 [Kbytes/sec] received

## ab.exe -n2000 -c2000 http://127.0.0.1/
Requests per second:    188.18 [#/sec] (mean)
Time per request:       10628.277 [ms] (mean)
Time per request:       5.314 [ms] (mean, across all concurrent requests)
Transfer rate:          382.24 [Kbytes/sec] received

## ab.exe -n3000 -c2000 http://127.0.0.1/
Requests per second:    145.74 [#/sec] (mean)
Time per request:       13723.500 [ms] (mean)
Time per request:       6.862 [ms] (mean, across all concurrent requests)
Transfer rate:          296.03 [Kbytes/sec] received

## ab.exe -n4000 -c2000 http://127.0.0.1/
Requests per second:    78.04 [#/sec] (mean)
Time per request:       25627.692 [ms] (mean)
Time per request:       12.814 [ms] (mean, across all concurrent requests)
Transfer rate:          158.52 [Kbytes/sec] received

#测试 3
比较不同 backlog 下吞吐量
ab.exe -n1000 -c1000 http://127.0.0.1/
## backlog=1000
Requests per second:    254.79 [#/sec] (mean)
Time per request:       3924.875 [ms] (mean)
Time per request:       3.925 [ms] (mean, across all concurrent requests)
Transfer rate:          517.53 [Kbytes/sec] received

## backlog=2000
Requests per second:    227.15 [#/sec] (mean)
Time per request:       4402.308 [ms] (mean)
Time per request:       4.402 [ms] (mean, across all concurrent requests)
Transfer rate:          461.41 [Kbytes/sec] received

## backlog=3000
Requests per second:    235.39 [#/sec] (mean)
Time per request:       4248.328 [ms] (mean)
Time per request:       4.248 [ms] (mean, across all concurrent requests)
Transfer rate:          478.13 [Kbytes/sec] received

## backlog=4000
Requests per second:    243.43 [#/sec] (mean)
Time per request:       4107.976 [ms] (mean)
Time per request:       4.108 [ms] (mean, across all concurrent requests)
Transfer rate:          494.46 [Kbytes/sec] received

## ## backlog=10000
Requests per second:    244.76 [#/sec] (mean)
Time per request:       4085.587 [ms] (mean)
Time per request:       4.086 [ms] (mean, across all concurrent requests)
Transfer rate:          497.17 [Kbytes/sec] received





